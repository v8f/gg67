sudo bash -c 'echo "Stage 1: Enabling RPM Fusion F43..."; dnf install -y https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-43.noarch.rpm https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-43.noarch.rpm && echo "Stage 2: Installing & Configuring NVIDIA Drivers..."; rpm -q akmod-nvidia || dnf install -y akmod-nvidia xorg-x11-drv-nvidia-cuda; [ -f /etc/modprobe.d/nvidia.conf ] && grep -qF "options nvidia_drm modeset=1" /etc/modprobe.d/nvidia.conf || echo "options nvidia_drm modeset=1" >> /etc/modprobe.d/nvidia.conf; [ -f /etc/dracut.conf.d/nvidia.conf ] || touch /etc/dracut.conf.d/nvidia.conf; grep -qF "add_drivers+=\" nvidia nvidia_modeset nvidia_uvm nvidia_drm \"" /etc/dracut.conf.d/nvidia.conf || echo "add_drivers+=\" nvidia nvidia_modeset nvidia_uvm nvidia_drm \"" >> /etc/dracut.conf.d/nvidia.conf; grep -qF "install_items+=\" /etc/modprobe.d/nvidia.conf \"" /etc/dracut.conf.d/nvidia.conf || echo "install_items+=\" /etc/modprobe.d/nvidia.conf \"" >> /etc/dracut.conf.d/nvidia.conf; echo "Finalizing: Regenerating initramfs..."; dracut -f && echo -e "\nSUCCESS: RPM Fusion enabled and NVIDIA drivers configured.\nREBOOT NOW to apply changes."'
